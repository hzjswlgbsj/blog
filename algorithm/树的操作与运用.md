# 树的操作与运用（大纲）

## 一、树的基础操作

- **新增节点**
  - 添加为指定父节点的子节点
  - 插入指定位置（排序需求）
- **删除节点**
  - 删除节点及其所有子孙
  - 删除后子节点是否提升或一并删除（业务常见差异）
- **更新节点**
  - 修改节点名称、值、扩展字段等
- **移动节点**
  - 拖拽节点实现树的重组
  - 处理跨层级移动时的合法性校验（防止循环引用）

## 二、树的搜索功能

- **根据关键词搜索节点**
  - 名称匹配 / 模糊搜索
- **返回路径路径链**
  - 搜索时高亮路径：如 `[root → 分类A → 子分类B → 目标节点]`
- **高亮展示匹配节点**
- **保留上下文（展开父级）**

## 三、树的序列化与反序列化

- **什么是树的序列化**
  - 如何将树结构持久化为平面数据（例如 JSON 数组）
- **序列化常见形式**
  - 嵌套结构：`children` 数组嵌套
  - 扁平结构：带 `id` 和 `parentId` 字段
- **反序列化：如何从平面数据还原成树**
  - 常用构建算法：一次遍历 + hash 映射
- **应用场景**
  - 接口通信、持久化存储、缓存优化

## 四、树在前端业务中的常见存储与结构设计

- **扁平数组 vs 嵌套结构**
  - 各自的优缺点、适用场景
- **Tree Select / Tree Table 的结构设计**
  - 使用字段设计：id、parentId、path、level 等
- **可配置树结构设计**
  - 如何让树结构具备灵活性，例如“扩展字段”“动态加载子节点”

## 五、实际业务中的案例与抽象

- **后台管理：权限菜单树**
- **电商分类树：多层级、支持拖拽排序**
- **流程图/组织结构图：支持可视化编辑和节点重构**
- **动态加载树（懒加载）实现思路**
  - 场景：节点太多、分页加载、异步加载子节点

## 六、进阶话题（可选拓展）

- **树结构的 diff 算法**
  - 比如虚拟 DOM 的核心逻辑之一
- **树的路径缓存优化**
  - 提前缓存每个节点到 root 的路径，快速定位和渲染
- **使用 Map / WeakMap 优化节点查找性能**
